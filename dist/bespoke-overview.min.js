/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var o=t;o=o.bespoke||(o.bespoke={}),o=o.plugins||(o.plugins={}),o.overview=e()}}(function(){return function e(t,o,n){function i(s,l){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var v=o[s]={exports:{}};t[s][0].call(v.exports,function(e){var o=t[s][1][e];return i(o?o:e)},v,v.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t){t.exports=function(t){var o=".bespoke-overview.bespoke-parent{pointer-events:auto}\n.bespoke-overview :not(img){pointer-events:none}\n.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}\n.bespoke-overview .bespoke-active{outline:0.4vw solid #cfd8dc;outline-offset:-0.2vw;-moz-outline-radius:0.2vw}\n.bespoke-overview .bespoke-bullet{opacity:1}\n.bespoke-overview-counter{counter-reset:overview}\n.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview;content:counter(overview);position:absolute;right:0.75em;bottom:0.5em;font-size:1.25rem;line-height:1.25}\n.bespoke-title{visibility:hidden;position:absolute;top:0;left:0;width:100vw;padding:10px 0 0 0;line-height:1.2;font-weight:bold;text-align:center}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title{visibility:visible;pointer-events:auto}\n/* z-index only works when slides are siblings */\n.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}\n";return e("insert-css")(o,{prepend:!0}),function(e){t="object"==typeof t?t:{};var o={o:79,enter:13,esc:27},n=new RegExp(", *"),i=["webkit","Moz","ms"],r="undefined"!=typeof t.columns?parseInt(t.columns):3,s="undefined"!=typeof t.margin?parseFloat(t.margin):10,l=null,a=!1,v=function(e,t){if(t in e.style)return t;for(var o=t.charAt(0).toUpperCase()+t.substr(1),n=0,r=i.length;r>n;n++){var s=i[n]+o;if(s in e.style)return s}return t},d=function(e){return e.getBoundingClientRect().width/e.offsetWidth},f=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},p=function(e){var t=getComputedStyle(e),o=t[v(e,"transitionProperty")];if(!o||"none"===o)return[];o=o.split(n);for(var i=t[v(e,"transitionDuration")].split(n),r=t[v(e,"transitionDelay")].split(n),s=[],l=0,a=o.length;a>l;l++)("0s"!==i[l]||"0s"!==r[l])&&s.push(o[l]);return s},c=function(){h(e.slides.indexOf(this))},u=function(t,o){if(a){var n=o.index+t;return n>-1&&n<e.slides.length&&e.slide(n),!1}},m=function(e){return"stopPropagation"in e?!e.stopPropagation:a?(b(e),!1):void 0},b=function(t){"undefined"==typeof t&&(t={index:e.slide(),slide:e.slides[e.slide()]}),t.index<r?e.parent.scrollTop=0:t.slide.scrollIntoView(!0)},w=function(){var o,n=e.slides,i=e.parent,u=i.classList,m=n.length-1,b=e.slide(),w=b>0?n[0]:n[m],h=i.querySelector(".bespoke-scale-parent"),y=0,g=1;if(h?g=d(h):(o=f(w))&&(g=o),l&&(n[0].removeEventListener("transitionend",l,!1),m>0&&n[m].removeEventListener("transitionend",l,!1),u.remove("bespoke-overview-from")),t.title){var k=i.firstElementChild;if(!k.classList.contains("bespoke-title")){var x=document.createElement("header");x.className="bespoke-title",x.appendChild(document.createTextNode(i.getAttribute("data-title")||document.title)),i.insertBefore(x,k),k=x,x=null}y=k.offsetHeight,k=null}e.slide(b,{stopPropagation:!0}),u.add("bespoke-overview"),a=!0,t.numbers&&u.add("bespoke-overview-counter"),u.add("bespoke-overview-to");var E=m>0?p(w):-1!==p(w).indexOf("transform")?["transform"]:[],L=E.length;if(L>0){var B=L;w.addEventListener("transitionend",l=function(e){e.target===this&&0===(B-=1)&&(this.removeEventListener("transitionend",l,!1),l=null,u.remove("bespoke-overview-to"),b>=r&&n[b].scrollIntoView(!0))},!1)}else u.remove("bespoke-overview-to");i.style.overflowY="scroll",i.style.scrollBehavior="smooth";var C=s/g,K=i.clientWidth/g,z=i.clientHeight/g,P=(i.offsetWidth/g-K)/g,T=C*(r+1),W=w.offsetWidth,q=w.offsetHeight,H=(K-T)/r/W,O=o?1:g,S=.5*(K-W)+P*O,I=.5*(z-q),S=S+.5*(W-W*H),I=I+.5*(q-q*H),N=C/H,A=y*g*H;slideBoxWidth=W+N,slideBoxHeight=q+N,row=0,col=0,transformProperty=v(w,"transform"),n.forEach(function(e){var t=C+P-S+col*slideBoxWidth*H,o=C-I+row*slideBoxHeight*H+A;-1!==t.toString().indexOf("e-")&&(t=0),-1!==o.toString().indexOf("e-")&&(o=0),e.style[transformProperty]="translate("+t+"px, "+o+"px) scale("+H+")",e.style.marginBottom=row*r+col===m?N+"px":"0%",e.addEventListener("click",c,!1),col===r-1?(col=0,row+=1):col+=1}),b>=r&&0===L&&n[b].scrollIntoView(!0)},h=function(o){e.slide("number"==typeof o?o:e.slide(),{stopPropagation:!1});var n=e.slides,i=e.parent,r=i.classList,s=n.length-1,d=e.slide()>0?n[0]:n[s],f=v(d,"transform");l&&(n[0].removeEventListener("transitionend",l,!1),s>0&&n[s].removeEventListener("transitionend",l,!1),r.remove("bespoke-overview-to")),i.style.scrollBehavior="",i.style.overflowY="",i.scrollTop=0,n.forEach(function(e){e.style[f]="",e.style.marginBottom="",e.removeEventListener("click",c,!1)}),r.add("bespoke-overview-from");var u=s>0?p(d):-1!==p(d).indexOf("transform")?["transform"]:[],m=u.length;if(m>0){var b=m;d.addEventListener("transitionend",l=function(e){e.target===this&&0===(b-=1)&&(this.removeEventListener("transitionend",l,!1),l=null,r.remove("bespoke-overview-from"))},!1)}else r.remove("bespoke-overview-from");t.numbers&&r.remove("bespoke-overview-counter"),r.remove("bespoke-overview"),a=!1},y=function(){return a?h():w()},g=function(e){switch(e.which){case o.o:case o.esc:e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||y();break;case o.enter:!a||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||h()}};window.addEventListener("load",function k(){window.removeEventListener("load",k,!1),0!==e.parent.scrollTop&&(e.parent.scrollTop=0)},!1),document.addEventListener("keydown",g,!1),e.on("activate",m),e.on("next",u.bind(null,1)),e.on("prev",u.bind(null,-1)),t.autostart&&w()}}},{"insert-css":2}],2:[function(e,t){var o={};t.exports=function(e,t){if(!o[e]){o[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}]},{},[1])(1)});