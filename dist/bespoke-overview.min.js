/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.bespoke||(t.bespoke={}),t=t.plugins||(t.plugins={}),t.overview=e()}}(function(){return function e(t,o,n){function i(s,l){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var v=new Error("Cannot find module '"+s+"'");throw v.code="MODULE_NOT_FOUND",v}var d=o[s]={exports:{}};t[s][0].call(d.exports,function(e){var o=t[s][1][e];return i(o?o:e)},d,d.exports,e,t,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,o){t.exports=function(t){var o=".bespoke-overview.bespoke-parent{pointer-events:auto}\n.bespoke-overview :not(img){pointer-events:none}\n.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}\n.bespoke-overview .bespoke-active{outline:6px solid #cfd8dc;outline-offset:-3px;-moz-outline-radius:3px}\n.bespoke-overview .bespoke-bullet{opacity:1}\n.bespoke-overview-counter{counter-reset:overview}\n.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview;content:counter(overview);position:absolute;right:0.75em;bottom:0.5em;font-size:1.25rem;line-height:1.25}\n.bespoke-title{visibility:hidden;position:absolute;top:0;left:0;width:100%}\n.bespoke-title h1{margin:0;font-size:1.6em;line-height:1.2;text-align:center}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title{visibility:visible;pointer-events:auto}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title *{pointer-events:auto}\n/* z-index only works when slides are siblings */\n.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}";return e("insert-css")(o,{prepend:!0}),function(e){t="object"==typeof t?t:{};var o,n={o:79,enter:13,up:38,down:40},i=/, */,r=/^translate\((-?[\d.]+)px, *(-?[\d.]+)px\) scale\(([\d.]+)\)$/,s=["webkit","Moz","ms"],l="number"==typeof t.columns?parseInt(t.columns):3,a="number"==typeof t.margin?parseFloat(t.margin):15,v=!1,d=!1,c=function(e,t){if(!(t in e.style))for(var o=t.charAt(0).toUpperCase()+t.substr(1),n=0,i=s.length;i>n;n++)if(s[n]+o in e.style)return s[n]+o;return t},f=function(e){return e.getBoundingClientRect().width/e.offsetWidth},p=function(e){return"zoom"in e.style?e.style.zoom.length>0?parseFloat(e.style.zoom):1:void 0},u=function(e){var t=[],o=getComputedStyle(e),n=o[c(e,"transitionProperty")];if(!n||"none"===n)return t;n=n.split(i);var r=o[c(e,"transitionDuration")].split(i),s=o[c(e,"transitionDelay")].split(i);return n.forEach(function(e,o){("0s"!==r[o]||"0s"!==s[o])&&t.push(e)}),t},m=function(e,t,o,n){void 0!==t&&(e.style[t]=o),e.offsetHeight,void 0!==t&&(e.style[t]=n)},h=function(){x(e.slides.indexOf(this))},b=function(t,o){if(v){var n=(o||{index:e.slide()}).index+t;return n>-1&&n<e.slides.length&&e.slide(n,{preview:!0}),!1}},w=function(o){return d?void(v&&o.scrollIntoView!==!1&&y(o)):(d=!0,e.parent.scrollTop>0&&(e.parent.scrollTop=0),void(t.autostart&&setTimeout(g,100)))},y=function(t){void 0===t&&(t={index:e.slide(),slide:e.slides[e.slide()]}),t.index<l?e.parent.scrollTop=0:t.slide.scrollIntoView(!0)},k=function(e){var t=e.firstElementChild;if(t.classList.contains("bespoke-title"))return t.style.width="",t;var o=document.createElement("header");o.className="bespoke-title",o.style[c(o,"transformOrigin")]="0 0";var n=document.createElement("h1");return n.appendChild(document.createTextNode(e.getAttribute("data-title")||document.title)),o.appendChild(n),e.insertBefore(o,t).offsetHeight,o},g=function(){var n,i,r=e.slides,s=e.parent,d=s.classList,b=r.length-1,w=e.slide(),y=w>0?r[0]:r[b],g=c(y,"transform"),x=s.querySelector(".bespoke-scale-parent"),E=1,L=0,z=!v;x?E=f(x):(i=p(y))&&(E=i),void 0!==o&&(r[0].removeEventListener("transitionend",o,!1),b>0&&r[b].removeEventListener("transitionend",o,!1),d.remove("bespoke-overview-from")),t.title&&(n=k(s)),z&&(e.slide(w,{preview:!0}),d.add("bespoke-overview"),v=!0,t.numbers&&d.add("bespoke-overview-counter"),d.add("bespoke-overview-to"),L=b>0?u(y).length:u(y).indexOf("transform")>=0?1:0,s.style.overflowY="scroll",s.style.scrollBehavior="smooth");var C=s.clientWidth/E,T=s.clientHeight/E,B=s.offsetWidth-s.clientWidth,O=y.offsetWidth,H=y.offsetHeight,K=C/(l*O+(l+1)*a),I=E*K,W=O*K,q=H*K,N=(C-W)/2,S=(T-q)/2,V=a*K,A=0,F=i?0:B*K,D=0,R=0;if(n&&(t.scaleTitle!==!1?(n.style[i?"zoom":g]=i?I:"scale("+I+")",n.style.width=s.clientWidth/I+"px",A=n.offsetHeight*K):(B>0&&(n.style.width=s.clientWidth+"px"),A=n.offsetHeight/E)),r.forEach(function(e){var t=R*W+(R+1)*V-F-N,o=D*q+(D+1)*V+A-S;-1!==t.toString().indexOf("e-")&&(t=0),-1!==o.toString().indexOf("e-")&&(o=0),e.style[g]="translate("+t+"px, "+o+"px) scale("+K+")",e.style.marginBottom=D*l+R===b?a+"px":"0%",e.addEventListener("click",h,!1),R===l-1?(D+=1,R=0):R+=1}),z)if(L>0){var U=L;y.addEventListener("transitionend",o=function(e){e.target===this&&0===(U-=1)&&(this.removeEventListener("transitionend",o,!1),o=void 0,d.remove("bespoke-overview-to"),"webkitAppearance"in s.style&&s.scrollHeight>s.offsetHeight&&m(s,"overflowY","auto","scroll"),w>=l&&r[w].scrollIntoView(!0))},!1)}else r.forEach(m),d.remove("bespoke-overview-to"),w>=l&&r[w].scrollIntoView(!0);else w>=l&&r[w].scrollIntoView(!0)},x=function(n){e.slide("number"==typeof n?n:e.slide(),{scrollIntoView:!1});var i,s=e.slides,l=e.parent,a=l.classList,d=s.length-1,b=e.slide()>0?s[0]:s[d],w=c(b,"transform"),y=c(b,"transition"),k=l.querySelector(".bespoke-scale-parent");k?i=f(k):(i=p(b))||(i=1),void 0!==o&&(s[0].removeEventListener("transitionend",o,!1),d>0&&s[d].removeEventListener("transitionend",o,!1),a.remove("bespoke-overview-to"));var g=l.scrollTop/i,x="webkitAppearance"in l.style?0:void 0;l.style.scrollBehavior="",l.style.overflowY="",s.forEach(function(e){if(0===x){var t=e.getBoundingClientRect().left;e.style.marginBottom="",x=e.getBoundingClientRect().left-t}else e.style.marginBottom="";e.removeEventListener("click",h,!1)}),(g||x)&&s.forEach(function(e){var t=e.style[w].match(r);t&&(e.style[w]="translate("+(parseFloat(t[1])-(x||0))+"px, "+(parseFloat(t[2])-g)+"px) scale("+t[3]+")",m(e,y,"none",""))}),l.scrollTop>0&&(l.scrollTop=0),a.remove("bespoke-overview"),v=!1,t.numbers&&a.remove("bespoke-overview-counter"),a.add("bespoke-overview-from");var E=d>0?u(b).length:u(b).indexOf("transform")>=0?1:0;if(s.forEach(function(e){e.style[w]=""}),E>0){var L=E;b.addEventListener("transitionend",o=function(e){e.target===this&&0===(L-=1)&&(this.removeEventListener("transitionend",o,!1),o=void 0,a.remove("bespoke-overview-from"))},!1)}else s.forEach(m),a.remove("bespoke-overview-from")},E=function(){v?x():g()},L=function(){v&&g()},z=function(e){if(e.which===n.o)e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||E();else if(v)switch(e.which){case n.enter:e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||x();break;case n.up:return b(-l);case n.down:return b(l)}};e.on("activate",w),e.on("next",b.bind(null,1)),e.on("prev",b.bind(null,-1)),e.on("destroy",function(){removeEventListener("resize",L,!1),document.removeEventListener("keydown",z,!1)}),addEventListener("resize",L,!1),document.addEventListener("keydown",z,!1)}}},{"insert-css":2}],2:[function(e,t,o){var n={};t.exports=function(e,t){if(!n[e]){n[e]=!0;var o=document.createElement("style");o.setAttribute("type","text/css"),"textContent"in o?o.textContent=e:o.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(o,i.childNodes[0]):i.appendChild(o)}}},{}]},{},[1])(1)});