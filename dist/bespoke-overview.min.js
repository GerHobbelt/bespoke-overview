/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var n=t;n=n.bespoke||(n.bespoke={}),n=n.plugins||(n.plugins={}),n.overview=e()}}(function(){return function e(t,n,o){function r(s,l){if(!n[s]){if(!t[s]){var f="function"==typeof require&&require;if(!l&&f)return f(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return r(n?n:e)},a,a.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){t.exports=function(e){return function(t){var n=79,o=13,r=27,i=new RegExp(", *"),s="bespoke-overview",l=0,f=!1,a="undefined"!=typeof e&&"undefined"!=typeof e.cols?parseInt(e.cols):3,d="undefined"!=typeof e&&"undefined"!=typeof e.margin?parseFloat(e.margin):10,c=function(e){return e.getBoundingClientRect().width/e.offsetWidth},u=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},p=function(e,t){var n=getComputedStyle(e);return propertyIndex=n.transitionProperty.split(i).indexOf(t),-1===propertyIndex?0:1e3*parseFloat(n.transitionDuration.split(i)[propertyIndex])},v=function(e){var n=t.slides.indexOf(e.currentTarget);-1!==n&&g(n)},y=function(){return f},m=function(e){if(y()){if(-1===e&&0===l||1===e&&l+1===t.slides.length)return!1;var n=t.slides[l];return n.removeAttribute("aria-selected"),n=t.slides[l+=e],n.setAttribute("aria-selected",!0),a>l?t.parent.scrollTop>0&&(t.parent.scrollTo?t.parent.scrollTo(0,0):t.parent.scrollTop=0):n.scrollIntoView(!0),!1}return!0},h=function(){l=t.slide();var e,n=t.parent,o=t.slides[0],r=o.parentNode,i=!1;if(r.classList.contains("bespoke-scale-parent")?e=c(r):(e=u(o))?i=!0:e=1,"zoom"in n.style){var y=document.createElement("div");y.className=s,y.style.cssText="position: absolute; top: 100vh; left: 0; height: 1px; width: 100vw; visibility: hidden",n.appendChild(y)}n.classList.add(s),n.style.overflowY="scroll",n.style.scrollBehavior="smooth";var m=d/e,h=n.clientWidth/e,g=n.clientHeight/e,w=(n.offsetWidth/e-h)/e,x=m*(a+1),b=o.offsetWidth,k=o.offsetHeight,E=(h-b)/2+w*(i?1:e),T=(g-k)/2,I=(h-x)/a/b,B=m/I,L=b+B,q=k+B,C=0,A=0;if(t.slides.forEach(function(e){var t=m+w-E+A*L*I,n=m-T+C*q*I;e.style.transform="translate("+t+"px, "+n+"px) scale("+I+")",e.style.marginBottom="0%",A==a-1?(A=0,C+=1):A+=1}),t.slides[t.slides.length-1].style.marginBottom=B+"px",t.slides.forEach(function(e){e.addEventListener("click",v,!1)}),l>=a){var W=t.slides[l],z=p(W,"transform");z>0?setTimeout(function(){W.scrollIntoView(!0)},z+100):W.scrollIntoView(!0)}t.slides[l].setAttribute("aria-selected",!0),f=!0},g=function(e){var n="number"==typeof e?e:l;n!==t.slide()&&t.slide(n);var o=t.parent,r=o.querySelector(".bespoke-overflow");r&&o.removeChild(r),o.style.scrollBehavior="",o.style.overflowY="",o.scrollTop=0,t.slides.forEach(function(e){e.style.transform="",e.style.marginBottom="",e.removeEventListener("click",v,!1)}),o.classList.remove(s),t.slides[l].removeAttribute("aria-selected"),f=!1},w=function(){y()?g():h()},x=function(e){switch(e.which){case n:case r:w();break;case o:y()&&g()}};document.addEventListener("keydown",x,!1),t.on("next",m.bind(null,1)),t.on("prev",m.bind(null,-1))}}},{}]},{},[1])(1)});