/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var n=t;n=n.bespoke||(n.bespoke={}),n=n.plugins||(n.plugins={}),n.overview=e()}}(function(){return function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){var f="function"==typeof require&&require;if(!l&&f)return f(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return i(n?n:e)},a,a.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t){t.exports=function(e){return function(t){var n=79,o=new RegExp(", *"),i=0,r="undefined"!=typeof e&&"undefined"!=typeof e.cols?parseInt(e.cols):3,s="undefined"!=typeof e&&"undefined"!=typeof e.margin?parseFloat(e.margin):10,l=function(e){return e.getBoundingClientRect().width/e.offsetWidth},f=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},a=function(e,t){var n=getComputedStyle(e);return propertyIndex=n.transitionProperty.split(o).indexOf(t),-1===propertyIndex?0:1e3*parseFloat(n.transitionDuration.split(o)[propertyIndex])},d=function(e){var n=t.slides.indexOf(e.currentTarget);-1!==n&&c(n)},u=function(){i=t.slide();var e,n=t.parent,o=t.slides[0],u=o.parentNode,c=!1;if(u.classList.contains("bespoke-scale-parent")?e=l(u):(e=f(o))?c=!0:e=1,"zoom"in n.style){var p=document.createElement("div");p.className="bespoke-overflow",p.style.cssText="position: absolute; top: 100vh; left: 0; height: 1px; width: 100vw; visibility: hidden",n.appendChild(p)}n.classList.add("bespoke-overview"),n.style.overflowY="scroll";var v=s/e,y=n.clientWidth/e,m=n.clientHeight/e,h=(n.offsetWidth/e-y)/e,w=v*(r+1),g=o.offsetWidth,x=o.offsetHeight,b=(y-g)/2+h*(c?1:e),k=(m-x)/2,E=(y-w)/r/g,L=v/E,B=g+L,I=x+L,q=0,C=0;if(t.slides.forEach(function(e){var t=v+h-b+C*B*E,n=v-k+q*I*E;e.style.transform="translate("+t+"px, "+n+"px) scale("+E+")",e.style.marginBottom="0%",C==r-1?(C=0,q+=1):C+=1}),t.slides[t.slides.length-1].style.marginBottom=L+"px",t.slides.forEach(function(e){e.addEventListener("click",d,!1)}),i>=r){n.style.scrollBehavior="smooth";var T=t.slides[i],W=a(T,"transform");W>0?setTimeout(function(){T.scrollIntoView(!0)},W+100):T.scrollIntoView(!0)}},c=function(e){var n="number"==typeof e?e:i;n!==t.slide()&&t.slide(n);var o=t.parent,r=o.querySelector(".bespoke-overflow");r&&o.removeChild(r),o.style.scrollBehavior="",o.style.overflowY="",o.scrollTop=0,t.slides.forEach(function(e){e.style.transform="",e.style.marginBottom="",e.removeEventListener("click",d,!1)}),o.classList.remove("bespoke-overview")},p=function(){t.parent.classList.contains("bespoke-overview")?c():u()},v=function(e){e.which===n&&p()};document.addEventListener("keydown",v,!1)}}},{}]},{},[1])(1)});