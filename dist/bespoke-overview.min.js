/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var o=t;o=o.bespoke||(o.bespoke={}),o=o.plugins||(o.plugins={}),o.overview=e()}}(function(){return function e(t,o,n){function r(s,l){if(!o[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return r(o?o:e)},c,c.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t){var o=e("insert-css");t.exports=function(e){var t=".bespoke-overview.bespoke-parent{pointer-events:auto}\n.bespoke-overview :not(img){pointer-events:none}\n.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}\n.bespoke-overview .bespoke-slide[aria-selected]{outline:0.4vw solid #cfd8dc;outline-offset:-0.2vw;-moz-outline-radius:0.2vw}\n.bespoke-overview .bespoke-bullet {opacity:1}\n.bespoke-overview .bespoke-overflow{position:absolute;top:100%;left:0;height:0.5px;width:100%}\n.bespoke-overview-counter{counter-reset:overview-slide}\n.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview-slide;content:counter(overview-slide);position:absolute;right:0.75em;bottom:0.5em;font-size:1.25rem;line-height:1.25}\n/* TODO change the following rule to .bespoke-transition .bespoke-active once the class is enabled */\n.bespoke-active{z-index:1}";return o(t,{prepend:!0}),function(t){e="object"==typeof e?e:{};var o={o:79,enter:13,esc:27},n="bespoke-overview",r="bespoke-overview-counter",i=0,s=!1,l="undefined"!=typeof e.cols?parseInt(e.cols):3,a="undefined"!=typeof e.margin?parseFloat(e.margin):10,c=function(e){return e.getBoundingClientRect().width/e.offsetWidth},d=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},f=function(e){return"0s"!==getComputedStyle(e).transitionDuration},u=function(e){var o=t.slides.indexOf(e.currentTarget);-1!==o&&y(o)},p=function(){return s},v=function(e){if(p()){if(-1===e&&0===i||1===e&&i+1===t.slides.length)return!1;var o=t.slides[i];return o.removeAttribute("aria-selected"),o=t.slides[i+=e],t.slide(i),o.setAttribute("aria-selected",!0),l>i?t.parent.scrollTop>0&&(t.parent.scrollTo?t.parent.scrollTo(0,0):t.parent.scrollTop=0):o.scrollIntoView(!0),!1}return!0},m=function(e){"transform"===e.propertyName&&(t.slides[i].scrollIntoView(!0),this.removeEventListener("transitionend",m,!1))},b=function(){var o,p=t.parent,v=t.slides[t.slides.length-1],b=t.slides[i=t.slide()],y=p.querySelector(".bespoke-scale-parent"),w=!1;y?o=c(y):(o=d(v))?w=!0:o=1,p.classList.add(n),e.counter&&p.classList.add(r),p.style.overflowY="scroll",p.style.scrollBehavior="smooth";var h=a/o,g=p.clientWidth/o,k=p.clientHeight/o,x=(p.offsetWidth/o-g)/o,E=h*(l+1),L=v.offsetWidth,T=v.offsetHeight,C=(g-E)/l/L,B=w?1:o,K=.5*(g-L)+x*B,q=.5*(k-T),K=K+.5*(L-L*C),q=q+.5*(T-T*C),S=h/C,z=L+S,A=T+S,O=0,F=0;t.slides.forEach(function(e){var t=h+x-K+F*z*C,o=h-q+O*A*C;-1!==t.toString().toLowerCase().indexOf("e")&&(t=t.toFixed(12)),-1!==o.toString().toLowerCase().indexOf("e")&&(o=o.toFixed(12)),e.style.transform="translate("+t+"px, "+o+"px) scale("+C+")",e.style.marginBottom="0%",F===l-1?(F=0,O+=1):F+=1}),v.style.marginBottom=S+"px",t.slides.forEach(function(e){e.addEventListener("click",u,!1)}),i>=l&&(f(v)?v.addEventListener("transitionend",m,!1):b.scrollIntoView(!0)),b.setAttribute("aria-selected",!0),s=!0},y=function(o){"number"==typeof o&&o!==i&&t.slide(o);var l=t.parent,a=l.querySelector(".bespoke-overflow");a&&l.removeChild(a),l.style.scrollBehavior="",l.style.overflowY="",l.scrollTop=0,t.slides.forEach(function(e){e.style.transform="",e.style.marginBottom="",e.removeEventListener("click",u,!1)}),l.classList.remove(n),e.counter&&l.classList.remove(r),t.slides[i].removeAttribute("aria-selected"),s=!1},w=function(){return p()?y():b()},h=function(e){switch(e.which){case o.o:case o.esc:e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||w();break;case o.enter:!p()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||y()}},g=function(){window.removeEventListener("load",g,!1),t.parent.scrollTop=0};window.addEventListener("load",g,!1),document.addEventListener("keydown",h,!1),t.on("next",v.bind(null,1)),t.on("prev",v.bind(null,-1)),e.start&&b()}}},{"insert-css":2}],2:[function(e,t){var o={};t.exports=function(e,t){if(!o[e]){o[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(n,r.childNodes[0]):r.appendChild(n)}}},{}]},{},[1])(1)});