/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.bespoke||(t.bespoke={}),t=t.plugins||(t.plugins={}),t.overview=e()}}(function(){return function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var v=new Error("Cannot find module '"+s+"'");throw v.code="MODULE_NOT_FOUND",v}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return i(n?n:e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){t.exports=function(t){var n=".bespoke-overview.bespoke-parent{pointer-events:auto}\n.bespoke-overview :not(img){pointer-events:none}\n.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}\n.bespoke-overview .bespoke-active{outline:0.4vw solid #cfd8dc;outline-offset:-0.2vw;-moz-outline-radius:0.2vw}\n.bespoke-overview .bespoke-bullet{opacity:1}\n.bespoke-overview-counter{counter-reset:overview}\n.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview;content:counter(overview);position:absolute;right:0.75em;bottom:0.5em;font-size:1.25rem;line-height:1.25}\n.bespoke-title{visibility:hidden;position:absolute;top:0;left:0}\n.bespoke-title h1{margin:0;font-size:1.125em;line-height:1.6;text-align:center}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title{visibility:visible;pointer-events:auto}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title *{pointer-events:auto}\n/* z-index only works when slides are siblings */\n.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}";return e("insert-css")(n,{prepend:!0}),function(e){t="object"==typeof t?t:{};var n,o={o:79,enter:13,up:38,down:40},i=/, */,r=/^translate\((-?[\d.]+)px, *(-?[\d.]+)px\) scale\(([\d.]+)\)$/,s=["webkit","Moz","ms"],l="number"==typeof t.columns?parseInt(t.columns):3,a="number"==typeof t.margin?parseFloat(t.margin):10,v=!1,d=function(e,t){if(t in e.style)return t;for(var n=t.charAt(0).toUpperCase()+t.substr(1),o=0,i=s.length;i>o;o++){var r=s[o]+n;if(r in e.style)return r}return t},f=function(e){return e.getBoundingClientRect().width/e.offsetWidth},c=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},p=function(e){var t=[],n=getComputedStyle(e),o=n[d(e,"transitionProperty")];if(!o||"none"===o)return t;o=o.split(i);for(var r=n[d(e,"transitionDuration")].split(i),s=n[d(e,"transitionDelay")].split(i),l=0,a=o.length;a>l;l++)("0s"!==r[l]||"0s"!==s[l])&&t.push(o[l]);return t},u=function(e){e.offsetHeight},m=function(e,t,n,o){e.style[t]=n,e.offsetHeight,e.style[t]=o},b=function(){x(e.slides.indexOf(this))},h=function(t,n){if(v){var o=(n||{index:e.slide()}).index+t;return o>-1&&o<e.slides.length&&e.slide(o,{preview:!0}),!1}},w=function(e){v&&y(e)},y=function(t){void 0===t&&(t={index:e.slide(),slide:e.slides[e.slide()]}),t.index<l?e.parent.scrollTop=0:t.slide.scrollIntoView(!0)},k=function(e){var t=e.firstElementChild;if(t.classList.contains("bespoke-title"))return{node:t,height:t.offsetHeight};var n=document.createElement("header");n.className="bespoke-title";var o=document.createElement("h1");return o.appendChild(document.createTextNode(e.getAttribute("data-title")||document.title)),n.appendChild(o),{node:e.insertBefore(n,t),height:n.offsetHeight}},g=function(){var o,i,r=e.slides,s=e.parent,h=s.classList,w=r.length-1,y=e.slide(),g=y>0?r[0]:r[w],x=d(g,"transform"),E=s.querySelector(".bespoke-scale-parent"),L=1,C=0,B=!v;E?L=f(E):(i=c(g))&&(L=i),void 0!==n&&(r[0].removeEventListener("transitionend",n,!1),w>0&&r[w].removeEventListener("transitionend",n,!1),h.remove("bespoke-overview-from")),t.title&&(o=k(s)),B&&(e.slide(y,{preview:!0}),h.add("bespoke-overview"),v=!0,t.numbers&&h.add("bespoke-overview-counter"),h.add("bespoke-overview-to"),C=w>0?p(g).length:p(g).indexOf("transform")>=0?1:0,s.style.overflowY="scroll",s.style.scrollBehavior="smooth"),o&&(o.node.style.width=s.clientWidth+"px");var T=a/L,z=s.clientWidth/L,H=s.clientHeight/L,K=s.offsetWidth-s.clientWidth,O=T*(l+1),q=g.offsetWidth,N=g.offsetHeight,S=(z-q)/2,W=(H-N)/2,A=(z-O)/l/q,F=T/A,I=q+F,D=N+F,V=o?o.height/L:0,R=i?0:K*A,U=0,Y=0;if(S+=(q-q*A)/2,W+=(N-N*A)/2,r.forEach(function(e){var t=T-S-R+Y*I*A,n=T-W+U*D*A+V;-1!==t.toString().indexOf("e-")&&(t=0),-1!==n.toString().indexOf("e-")&&(n=0),e.style[x]="translate("+t+"px, "+n+"px) scale("+A+")",e.style.marginBottom=U*l+Y===w?F+"px":"0%",e.addEventListener("click",b,!1),Y===l-1?(U+=1,Y=0):Y+=1}),B)if(C>0){var j=C;g.addEventListener("transitionend",n=function(e){e.target===this&&0===(j-=1)&&(this.removeEventListener("transitionend",n,!1),n=void 0,h.remove("bespoke-overview-to"),"webkitAppearance"in s.style&&s.scrollHeight>s.offsetHeight&&m(s,"overflowY","auto","scroll"),y>=l&&r[y].scrollIntoView(!0))},!1)}else r.forEach(u),h.remove("bespoke-overview-to"),y>=l&&r[y].scrollIntoView(!0);else y>=l&&r[y].scrollIntoView(!0)},x=function(o){e.slide("number"==typeof o?o:e.slide());var i,s=e.slides,l=e.parent,a=l.classList,h=s.length-1,w=e.slide()>0?s[0]:s[h],y=d(w,"transform"),k=d(w,"transition"),g=l.querySelector(".bespoke-scale-parent");g?i=f(g):(i=c(w))||(i=1),void 0!==n&&(s[0].removeEventListener("transitionend",n,!1),h>0&&s[h].removeEventListener("transitionend",n,!1),a.remove("bespoke-overview-to"));var x=l.scrollTop/i,E="webkitAppearance"in l.style?0:void 0;l.style.scrollBehavior="",l.style.overflowY="",s.forEach(function(e){if(0===E){var t=e.getBoundingClientRect().left;e.style.marginBottom="",E=e.getBoundingClientRect().left-t}else e.style.marginBottom="";e.removeEventListener("click",b,!1)}),(x||E)&&s.forEach(function(e){var t=e.style[y].match(r);t&&(e.style[y]="translate("+(parseFloat(t[1])-(E||0))+"px, "+(parseFloat(t[2])-x)+"px) scale("+t[3]+")",m(e,k,"none",""))}),l.scrollTop>0&&(l.scrollTop=0),a.remove("bespoke-overview"),v=!1,t.numbers&&a.remove("bespoke-overview-counter"),a.add("bespoke-overview-from");var L=h>0?p(w).length:p(w).indexOf("transform")>=0?1:0;if(s.forEach(function(e){e.style[y]=""}),L>0){var C=L;w.addEventListener("transitionend",n=function(e){e.target===this&&0===(C-=1)&&(this.removeEventListener("transitionend",n,!1),n=void 0,a.remove("bespoke-overview-from"))},!1)}else s.forEach(u),a.remove("bespoke-overview-from")},E=function(){v?x():g()},L=function(){v&&g()},C=function(e){switch(e.which){case o.o:e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||E();break;case o.enter:!v||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||x();break;case o.up:if(v)return h(-l);break;case o.down:if(v)return h(l)}};window.addEventListener("load",function B(){window.removeEventListener("load",B,!1),e.parent.scrollTop>0&&(e.parent.scrollTop=0),t.autostart&&setTimeout(g,0)},!1),window.addEventListener("resize",L,!1),document.addEventListener("keydown",C,!1),e.on("activate",w),e.on("next",h.bind(null,1)),e.on("prev",h.bind(null,-1))}}},{"insert-css":2}],2:[function(e,t,n){var o={};t.exports=function(e,t){if(!o[e]){o[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}]},{},[1])(1)});