/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t=t.bespoke||(t.bespoke={}),t=t.plugins||(t.plugins={}),t.overview=e()}}(function(){return function e(t,n,o){function i(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return i(n?n:e)},f,f.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){t.exports=function(t){var n=".bespoke-overview.bespoke-parent{pointer-events:auto}\n.bespoke-overview :not(img){pointer-events:none}\n.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}\n.bespoke-overview .bespoke-active{outline:6px solid #cfd8dc;outline-offset:-3px;-moz-outline-radius:3px}\n.bespoke-overview .bespoke-bullet{opacity:1}\n.bespoke-overview-counter{counter-reset:overview}\n.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview;content:counter(overview);position:absolute;right:0.75em;bottom:0.5em;font-size:1.25rem;line-height:1.25}\n.bespoke-title{visibility:hidden;position:absolute;top:0;left:0;width:100%}\n.bespoke-title h1{margin:0;font-size:1.6em;line-height:1.2;text-align:center}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title{visibility:visible;pointer-events:auto}\n.bespoke-overview:not(.bespoke-overview-to) .bespoke-title *{pointer-events:auto}\n/* z-index only works when slides are siblings */\n.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}";return e("insert-css")(n,{prepend:!0}),function(e){t="object"==typeof t?t:{};var n,o={o:79,enter:13,up:38,down:40},i={csv:/, */,none:/^none(?:, *none)*$/,transform:/^translate\((-?[\d.]+)px, *(-?[\d.]+)px\) scale\(([\d.]+)\)$/},r=!("transition"in document.body.style)&&"webkitTransition"in document.body.style?"webkitTransitionEnd":"transitionend",s=["webkit","Moz","ms"],l="number"==typeof t.columns?parseInt(t.columns):3,a="number"==typeof t.margin?parseFloat(t.margin):15,c=!1,f=!1,d=function(e,t){if(!(t in e.style))for(var n=t.charAt(0).toUpperCase()+t.substr(1),o=0,i=s.length;i>o;o++)if(s[o]+n in e.style)return s[o]+n;return t},p=function(e){return e.getBoundingClientRect().width/e.offsetWidth},v=function(e){return"zoom"in e.style?parseFloat(e.style.zoom)||void 0:void 0},u=function(e){var t=[],n=getComputedStyle(e),o=n[d(e,"transitionProperty")];if(!o||i.none.test(o))return t;o=o.split(i.csv);var r=n[d(e,"transitionDuration")].split(i.csv),s=n[d(e,"transitionDelay")].split(i.csv);return o.forEach(function(e,n){("0s"!==r[n]||"0s"!==s[n])&&t.push(e)}),t},m=function(e,t,n,o){t&&(e.style[t]=n),e.offsetHeight,t&&(e.style[t]=o)},b=function(){E(e.slides.indexOf(this))},h=function(t,n){if(c){var o=n.index+t;return o>-1&&o<e.slides.length&&e.slide(o,{preview:!0}),!1}},y=function(n){return f?void(c&&n.scrollIntoView!==!1&&w(n.slide,n.index,v(n.slide))):(f=!0,e.parent.scrollLeft=e.parent.scrollTop=0,void(t.autostart&&setTimeout(x,100)))},w=function(t,n,o){e.parent.scrollTop=l>n?0:e.parent.scrollTop+t.getBoundingClientRect().top*(o||1)},k=function(e,t,o,i){o.removeEventListener(r,n,!1),i&&i!==o&&i.removeEventListener(r,n,!1),n=void 0,t.remove("bespoke-overview-"+e)},g=function(e){var t=e.firstElementChild;if(t.classList.contains("bespoke-title"))return t.style.width="",t;var n=document.createElement("header");n.className="bespoke-title",n.style[d(n,"transformOrigin")]="0 0";var o=document.createElement("h1");return o.appendChild(document.createTextNode(e.getAttribute("data-title")||document.title)),n.appendChild(o),e.insertBefore(n,t).offsetHeight,n},x=function(){var o,i,s=e.slides,f=e.parent,h=f.classList,y=s.length-1,x=e.slide(),E=x>0?s[0]:s[y],L=d(E,"transform"),C=f.querySelector(".bespoke-scale-parent"),T=1,B=0,z=!c;C?T=p(C):(i=v(E))&&(T=i),n&&k("from",h,s[0],s[y]),t.title&&(o=g(f)),z&&(e.slide(x,{preview:!0}),h.add("bespoke-overview"),c=!0,t.numbers&&h.add("bespoke-overview-counter"),h.add("bespoke-overview-to"),B=y>0?u(E).length:u(E).indexOf("transform")>=0?1:0,f.style.overflowY="scroll",f.style.scrollBehavior="smooth");var O=f.clientWidth/T,H=f.clientHeight/T,K=(C||f).offsetWidth-f.clientWidth,W=C?K/2/T:0,q=E.offsetWidth,N=E.offsetHeight,S=O/(l*q+(l+1)*a),A=T*S,F=q*S,D=N*S,R=(O-F)/2,I=(H-D)/2,U=a*S,Y=0,j=0,M=0;o&&(t.scaleTitle!==!1?(o.style[i?"zoom":L]=i?A:"scale("+A+")",o.style.width=f.clientWidth/A+"px",Y=o.offsetHeight*S):(K>0&&(o.style.width=f.clientWidth+"px"),Y=o.offsetHeight/T)),s.forEach(function(e){var t=M*F+(M+1)*U-W-R,n=j*D+(j+1)*U+Y-I;-1!==t.toString().indexOf("e-")&&(t=0),-1!==n.toString().indexOf("e-")&&(n=0),e.style[L]="translate("+t+"px, "+n+"px) scale("+S+")",e.style.marginBottom=j*l+M===y?a+"px":"0%",e.addEventListener("click",b,!1),M===l-1?(j+=1,M=0):M+=1}),z?B>0?E.addEventListener(r,n=function(e){e.target===this&&0===(B-=1)&&(k("to",h,this),"webkitAppearance"in f.style&&f.scrollHeight>f.clientHeight&&m(f,"overflowY","auto","scroll"),w(s[x],x,i))},!1):(s.forEach(function(e){m(e)}),h.remove("bespoke-overview-to"),w(s[x],x,i)):w(s[x],x,i)},E=function(o){e.slide("number"==typeof o?o:e.slide(),{scrollIntoView:!1});var s,l=e.slides,a=e.parent,f=a.classList,h=l.length-1,y=e.slide()>0?l[0]:l[h],w=d(y,"transform"),g=d(y,"transition"),x=a.querySelector(".bespoke-scale-parent");x?s=p(x):(s=v(y))||(s=1),n&&k("to",f,l[0],l[h]);var E=a.scrollTop/s,L="webkitAppearance"in a.style?0:void 0;a.style.scrollBehavior="",a.style.overflowY="",l.forEach(function(e){if(0===L){var t=e.getBoundingClientRect().left;e.style.marginBottom="",L=e.getBoundingClientRect().left-t}else e.style.marginBottom="";e.removeEventListener("click",b,!1)}),(E||L)&&l.forEach(function(e){var t=e.style[w].match(i.transform);t&&(e.style[w]="translate("+(parseFloat(t[1])-(L||0))+"px, "+(parseFloat(t[2])-E)+"px) scale("+t[3]+")",m(e,g,"none",""))}),a.scrollTop=0,f.remove("bespoke-overview"),c=!1,t.numbers&&f.remove("bespoke-overview-counter"),f.add("bespoke-overview-from");var C=h>0?u(y).length:u(y).indexOf("transform")>=0?1:0;l.forEach(function(e){e.style[w]=""}),C>0?y.addEventListener(r,n=function(e){e.target===this&&0===(C-=1)&&k("from",f,this)},!1):(l.forEach(function(e){m(e)}),f.remove("bespoke-overview-from"))},L=function(){c?E():x()},C=function(){c&&x()},T=function(t){if(t.which===o.o)t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||L();else if(c)switch(t.which){case o.enter:t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||E();break;case o.up:return h(-l,{index:e.slide()});case o.down:return h(l,{index:e.slide()})}};e.on("activate",y),e.on("next",h.bind(null,1)),e.on("prev",h.bind(null,-1)),e.on("destroy",function(){removeEventListener("resize",C,!1),document.removeEventListener("keydown",T,!1)}),addEventListener("resize",C,!1),document.addEventListener("keydown",T,!1)}}},{"insert-css":2}],2:[function(e,t,n){var o={};t.exports=function(e,t){if(!o[e]){o[e]=!0;var n=document.createElement("style");n.setAttribute("type","text/css"),"textContent"in n?n.textContent=e:n.styleSheet.cssText=e;var i=document.getElementsByTagName("head")[0];t&&t.prepend?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)}}},{}]},{},[1])(1)});