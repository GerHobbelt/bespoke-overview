/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var n=t;n=n.bespoke||(n.bespoke={}),n=n.plugins||(n.plugins={}),n.overview=e()}}(function(){return function e(t,n,o){function r(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var v=n[s]={exports:{}};t[s][0].call(v.exports,function(e){var n=t[s][1][e];return r(n?n:e)},v,v.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){t.exports=function(t){var n=".bespoke-overview.bespoke-parent{pointer-events:auto}\n.bespoke-overview :not(img){pointer-events:none}\n.bespoke-overview .bespoke-slide{opacity:1;visibility:visible;cursor:pointer;pointer-events:auto}\n.bespoke-overview .bespoke-slide[aria-selected]{outline:0.4vw solid #cfd8dc;outline-offset:-0.2vw;-moz-outline-radius:0.2vw}\n.bespoke-overview .bespoke-bullet {opacity:1}\n.bespoke-overview-counter{counter-reset:overview-slide}\n.bespoke-overview-counter .bespoke-slide::after{counter-increment:overview-slide;content:counter(overview-slide);position:absolute;right:0.75em;bottom:0.5em;font-size:1.25rem;line-height:1.25}\n/* z-index setting only works when slides are siblings */\n.bespoke-overview-to .bespoke-active,.bespoke-overview-from .bespoke-active{z-index:1}";return e("insert-css")(n,{prepend:!0}),function(e){t="object"==typeof t?t:{};var n={o:79,enter:13,esc:27},o=new RegExp(", *"),r=["Webkit","Moz","ms"],i=0,s=!1,l="undefined"!=typeof t.cols?parseInt(t.cols):3,a="undefined"!=typeof t.margin?parseFloat(t.margin):10,v=null,d=function(e,t){if(t in e.style)return t;for(var n=t.charAt(0)+t.substr(1),o=0,i=r.length;i>o;o++){var s=r[o]+n;if(s in e.style)return s}return t},f=function(e){return e.getBoundingClientRect().width/e.offsetWidth},u=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},c=function(e){var t=getComputedStyle(e),n=t[d(e,"transitionProperty")];if(!n||"none"===n)return!1;var r=n.split(o).indexOf("transform");if(-1===r)return!1;var i=t[d(e,"transitionDuration")].split(o)[r];if("0s"!==i)return!0;var s=t[d(e,"transitionDelay")].split(o)[r];return"0s"!==s},p=function(e){var t=getComputedStyle(e),n=t[d(e,"transitionProperty")];if(!n||"none"===n)return 0;n=n.split(o);for(var r=t[d(e,"transitionDuration")].split(o),i=t[d(e,"transitionDelay")].split(o),s=n.length,l=0,a=s;a>l;l++)"0s"===r[l]&&"0s"===i[l]&&(s-=1);return s},m=function(t){var n=e.slides.indexOf(t.currentTarget);-1!==n&&k(n)},b=function(){return s},w=function(t){if(b()){if(-1===t&&0===i||1===t&&i+1===e.slides.length)return!1;var n=e.slides[i];return n.removeAttribute("aria-selected"),n=e.slides[i+=t],e.slide(i),n.setAttribute("aria-selected",!0),l>i?e.parent.scrollTop>0&&(e.parent.scrollTo?e.parent.scrollTo(0,0):e.parent.scrollTop=0):n.scrollIntoView(!0),!1}},y=function(){var n,o=e.parent,r=o.classList,b=e.slides[e.slides.length-1],w=e.slides[i=e.slide()],y=o.querySelector(".bespoke-scale-parent"),k=!1;y?n=f(y):(n=u(b))?k=!0:n=1,v&&(b.removeEventListener("transitionend",v,!1),r.remove("bespoke-overview-from")),r.add("bespoke-overview"),t.counter&&r.add("bespoke-overview-counter"),r.add("bespoke-overview-to");var g=p(b);g>0?b.addEventListener("transitionend",v=function(e){e.target===b&&0===(g-=1)&&(b.removeEventListener("transitionend",v,!1),v=null,r.remove("bespoke-overview-to"))},!1):r.remove("bespoke-overview-to"),o.style.overflowY="scroll",o.style.scrollBehavior="smooth";var h=a/n,x=o.clientWidth/n,E=o.clientHeight/n,L=(o.offsetWidth/n-x)/n,T=h*(l+1),B=b.offsetWidth,K=b.offsetHeight,z=(x-T)/l/B,C=k?1:n,A=.5*(x-B)+L*C,S=.5*(E-K),A=A+.5*(B-B*z),S=S+.5*(K-K*z),q=h/z,W=B+q,D=K+q,I=0,O=0;e.slides.forEach(function(e){var t=h+L-A+O*W*z,n=h-S+I*D*z;-1!==t.toString().indexOf("e-")&&(t=0),-1!==n.toString().indexOf("e-")&&(n=0),e.style[d(e,"transform")]="translate("+t+"px, "+n+"px) scale("+z+")",e.style.marginBottom="0%",O===l-1?(O=0,I+=1):O+=1}),b.style.marginBottom=q+"px",e.slides.forEach(function(e){e.addEventListener("click",m,!1)}),i>=l&&(c(b)?b.addEventListener("transitionend",function N(t){t.target===b&&"transform"===t.propertyName&&(b.removeEventListener("transitionend",N,!1),e.slides[i].scrollIntoView(!0))},!1):w.scrollIntoView(!0)),w.setAttribute("aria-selected",!0),s=!0},k=function(n){"number"==typeof n&&n!==i&&e.slide(n);var o=e.parent,r=o.classList,l=e.slides[e.slides.length-1];o.style.scrollBehavior="",o.style.overflowY="",o.scrollTop=0,e.slides.forEach(function(e){e.style[d(e,"transform")]="",e.style.marginBottom="",e.removeEventListener("click",m,!1)}),v&&(l.removeEventListener("transitionend",v,!1),r.remove("bespoke-overview-to")),r.add("bespoke-overview-from");var a=p(l);a>0?l.addEventListener("transitionend",v=function(e){e.target===l&&0===(a-=1)&&(l.removeEventListener("transitionend",v,!1),v=null,r.remove("bespoke-overview-from"))},!1):r.remove("bespoke-overview-from"),t.counter&&r.remove("bespoke-overview-counter"),r.remove("bespoke-overview"),e.slides[i].removeAttribute("aria-selected"),s=!1},g=function(){return b()?k():y()},h=function(e){switch(e.which){case n.o:case n.esc:e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||g();break;case n.enter:!b()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||k()}};window.addEventListener("load",function x(){window.removeEventListener("load",x,!1),0!==e.parent.scrollTop&&(e.parent.scrollTop=0)},!1),document.addEventListener("keydown",h,!1),e.on("next",w.bind(null,1)),e.on("prev",w.bind(null,-1)),t.start&&y()}}},{"insert-css":2}],2:[function(e,t){var n={};t.exports=function(e,t){if(!n[e]){n[e]=!0;var o=document.createElement("style");o.setAttribute("type","text/css"),"textContent"in o?o.textContent=e:o.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(o,r.childNodes[0]):r.appendChild(o)}}},{}]},{},[1])(1)});