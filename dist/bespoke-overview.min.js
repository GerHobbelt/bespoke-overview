/*! bespoke-overview v1.0.0 Â© 2015 Dan Allen, MIT License */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);var n=t;n=n.bespoke||(n.bespoke={}),n=n.plugins||(n.plugins={}),n.overview=e()}}(function(){return function e(t,n,o){function r(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return r(n?n:e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){var n=e("insert-css");t.exports=function(e){return n(".bespoke-overview .bespoke-slide{opacity:1;cursor:pointer;pointer-events:auto}\n/* force Firefox to leave room below last row of slides in overview */\n.bespoke-overview .bespoke-slide:last-of-type::after{position:absolute;display:block;content:'';left:0;bottom:-5%;height:5%;width:100%;visibility:hidden}\n.bespoke-overview .bespoke-slide[aria-selected]{border:0.25ex solid #bbdefb}\n.bespoke-overview .bespoke-slide *:not(img){pointer-events:none}\n.bespoke-overview .bespoke-bullet {opacity:1}\n/* ensure current slide is on top when exiting overview */\n.bespoke-active{z-index:1}",{prepend:!0}),function(t){var n={o:79,enter:13,esc:27},o="bespoke-overview",r=0,i=!1,s="undefined"!=typeof e&&"undefined"!=typeof e.cols?parseInt(e.cols):3,l="undefined"!=typeof e&&"undefined"!=typeof e.margin?parseFloat(e.margin):10,a=function(e){return e.getBoundingClientRect().width/e.offsetWidth},d=function(e){if("zoom"in e.style){var t=e.style.zoom;if(t.length>0)return parseFloat(t)}},f=function(e){return"0s"!==getComputedStyle(e).transitionDuration},c=function(e){var n=t.slides.indexOf(e.currentTarget);-1!==n&&m(n)},u=function(){return i},p=function(e){if(u()){if(-1===e&&0===r||1===e&&r+1===t.slides.length)return!1;var n=t.slides[r];return n.removeAttribute("aria-selected"),n=t.slides[r+=e],t.slide(r),n.setAttribute("aria-selected",!0),s>r?t.parent.scrollTop>0&&(t.parent.scrollTo?t.parent.scrollTo(0,0):t.parent.scrollTop=0):n.scrollIntoView(!0),!1}return!0},v=function(e){"transform"===e.propertyName&&(t.slides[r].scrollIntoView(!0),this.removeEventListener("transitionend",v,!1))},y=function(){var e,n=t.parent,u=t.slides[t.slides.length-1],p=t.slides[r=t.slide()],y=n.querySelector(".bespoke-scale-parent"),m=!1;if(y?e=a(y):(e=d(u))?m=!0:e=1,"zoom"in n.style){var b=document.createElement("div");b.className=o,b.style.cssText="position:absolute; top:100vh; left:0; height:1px; width:100vw; pointer-events:none",n.appendChild(b)}n.classList.add(o),n.style.overflowY="scroll",n.style.scrollBehavior="smooth";var h=l/e,w=n.clientWidth/e,g=n.clientHeight/e,x=(n.offsetWidth/e-w)/e,k=h*(s+1),E=u.offsetWidth,T=u.offsetHeight,B=(w-k)/s/E,C=m?1:e,K=.5*(w-E)+x*C,L=.5*(g-T),K=K+.5*(E-E*B),L=L+.5*(T-T*B),q=h/B,A=E+q,z=T+q,I=0,N=0;t.slides.forEach(function(e){var t=h+x-K+N*A*B,n=h-L+I*z*B;e.style.transform="translate("+t+"px, "+n+"px) scale("+B+")",e.style.marginBottom="0%",N===s-1?(N=0,I+=1):N+=1}),u.style.marginBottom=q+"px",t.slides.forEach(function(e){e.addEventListener("click",c,!1)}),r>=s&&(f(u)?u.addEventListener("transitionend",v,!1):p.scrollIntoView(!0)),p.setAttribute("aria-selected",!0),i=!0},m=function(e){"number"==typeof e&&e!==r&&t.slide(e);var n=t.parent,s=n.querySelector(".bespoke-overflow");s&&n.removeChild(s),n.style.scrollBehavior="",n.style.overflowY="",n.scrollTop=0,t.slides.forEach(function(e){e.style.transform="",e.style.marginBottom="",e.removeEventListener("click",c,!1)}),n.classList.remove(o),t.slides[r].removeAttribute("aria-selected"),i=!1},b=function(){return u()?m():y()},h=function(e){switch(e.which){case n.o:case n.esc:e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||b();break;case n.enter:!u()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||m()}};document.addEventListener("keydown",h,!1),t.on("next",p.bind(null,1)),t.on("prev",p.bind(null,-1))}}},{"insert-css":2}],2:[function(e,t){var n={};t.exports=function(e,t){if(!n[e]){n[e]=!0;var o=document.createElement("style");o.setAttribute("type","text/css"),"textContent"in o?o.textContent=e:o.styleSheet.cssText=e;var r=document.getElementsByTagName("head")[0];t&&t.prepend?r.insertBefore(o,r.childNodes[0]):r.appendChild(o)}}},{}]},{},[1])(1)});